<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>You're invited to join <%= @organization.name %> on QA Lab</title>
    <style>
      /* Modern email styles */
      body {
        background-color: #f6f9fc;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 0;
        color: #32325d;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 40px 20px;
      }
      .card {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        overflow: hidden;
      }
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px 30px;
        text-align: center;
      }
      .content {
        padding: 40px 30px;
      }
      .button {
        display: inline-block;
        background: #667eea;
        color: white;
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 6px;
        font-weight: 600;
        margin: 20px 0;
      }
      .footer {
        background: #f8fafc;
        padding: 30px;
        text-align: center;
        font-size: 14px;
        color: #64748b;
        border-top: 1px solid #e2e8f0;
      }
      .role-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      .role-owner { background: #fee2e2; color: #dc2626; }
      .role-admin { background: #fef3c7; color: #d97706; }
      .role-member { background: #dbeafe; color: #2563eb; }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="card">
        <div class="header">
          <h1 style="margin: 0; font-size: 28px; font-weight: 700;">
            ðŸŽ‰ You're Invited!
          </h1>
          <p style="margin: 10px 0 0; opacity: 0.9; font-size: 16px;">
            Join <%= @organization.name %> on QA Lab
          </p>
        </div>
        
        <div class="content">
          <p style="font-size: 18px; margin: 0 0 20px;">Hello!</p>
          
          <p>
            <strong><%= @invited_by.first_name %> <%= @invited_by.last_name %></strong> 
            has invited you to join <strong><%= @organization.name %></strong> on QA Lab 
            as a <span class="role-badge role-<%= @invitation.role %>"><%= @invitation.role.titleize %></span>.
          </p>
          
          <p>
            QA Lab is a comprehensive Quality Assurance and Testing Management platform that helps teams:
          </p>
          
          <ul style="margin: 20px 0; padding-left: 20px;">
            <li>ðŸ“Š Manage and track automated test results</li>
            <li>âœ… Organize manual testing workflows</li>
            <li>ðŸ“ˆ Visualize testing metrics and progress</li>
            <li>ðŸ‘¥ Collaborate effectively across teams</li>
          </ul>
          
          <div style="text-align: center; margin: 30px 0;">
            <a href="<%= @accept_url %>" class="button" style="color: white;">
              Accept Invitation & Create Account
            </a>
          </div>
          
          <p style="font-size: 14px; color: #64748b; border-left: 3px solid #e2e8f0; padding-left: 15px; margin: 30px 0;">
            <strong>Note:</strong> This invitation will expire in 7 days. 
            If you don't have a QA Lab account, you'll create one as part of accepting this invitation.
          </p>
          
          <p>
            If you have any questions, feel free to reach out to 
            <strong><%= @invited_by.first_name %></strong> at 
            <a href="mailto:<%= @invited_by.email %>"><%= @invited_by.email %></a>.
          </p>
          
          <p style="margin-top: 30px;">
            Welcome to the team!<br>
            <strong>The QA Lab Team</strong>
          </p>
        </div>
        
        <div class="footer">
          <p style="margin: 0;">
            Can't click the button? Copy and paste this link into your browser:<br>
            <a href="<%= @accept_url %>" style="color: #667eea; word-break: break-all;"><%= @accept_url %></a>
          </p>
          
          <p style="margin: 20px 0 0; font-size: 12px;">
            This invitation was sent to <%= @invitation.email %>. 
            If you weren't expecting this invitation, you can safely ignore this email.
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
